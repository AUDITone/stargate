@startuml
title Crypto Exchange Interchain Blockchain (IBC) Protocol Flow of Funds Example
actor   Alice
Collections CosmosHub
Collections KavaChain
Collections CryptoExchange
entity Relayer #Green

Alice -> CosmosHub : Escrow 100 ATOMs on IBC Channel to KavaChain and generate IBC Packet
note left: 100 ATOMs in escrow on CosmosHub
Relayer -> KavaChain : Publish Packet on Kavachain
KavaChain -> Alice : Mint 100 KavaATOMs on KavaChain to Alice
note left: 100 KavaATOMs created on KavaChain
Alice -> KavaChain : Destroy 100 KavaATOMs on IBC Channel to CosmosHub and generate IBC Packet
note right: 100 KavaChain tokens destroyed
Relayer -> CosmosHub: Publish Pakce and Release 100 ATOMs from Escrow
CosmosHub -> CryptoExchange: Here the signer of the transaction is the Relayer but TX originated on the Kavachain
note left: Escrow of 100 ATOMs is released
note over Relayer #grey: The relayer function is an untrusted function. A relayer cannot alter or interrupt the flow of funds

@enduml


